
Publishing:
  pnpm changeset publish --no-git-tag
  Angular beta repro:
  https://stackblitz.com/edit/github-sphfu1?file=package.json,src%2Findex.html

Regression present in v7-beta.3
  See https://codepen.io/arshaw/pen/wBwJmgg?editors=001 (via https://github.com/fullcalendar/fullcalendar/issues/7007)
    TimeGrid events not spaced correctly
    WeekNumber was not activated, but still present
  When building Next 14,
    "navigator is not defined"

a11y
  TODO: test scrolling on touch devices
  Why is list-view crazy blackout happening when <a> event clicked or focused?
  NOTE: semantic DayGrid table structure will be hard b/c MultiMonth
  think about changing title as <h2>
  weekNumbers in daygrid should be in DOM-order before cells
  timegrid axis cell was reintroduced to avoid margin-left/right. text still selectable? audit z-indexes
  figure out empty rowheader cells, give aria-label
  make all-day row and timed-row part of same rowgroup
  for vertical resource views,
    aria-label is like "September 7, 2020" and doesn't reference resource at all. should it?
  for list view,
    create a aria-label for the event list
  when rigging up CI,
    test list-view empty state
  status for views:
    [x] daygrid
    [x] daygrid hscroll
    [x] timegrid
    [x] timegrid hscroll
    [x] multimonth
    [x] list view
    [ ] timeline (no resources)
    [ ] resource-timeline
  make all of our rowIndexes 0-based
  write aria-colcount/rowcount on root table?
  give time-area columnheader an aria description

i18n
  locales should populdate viewChangeHint

misc
  better markup for Popover title/close (no span, use flexbox)

Cross-browser
  Firefox
    bug: Firefox 90: timegrid header/all-day scrollbarGutter not showing
    regression: after print-view (for timegrid as least) scroll gutter filler permanently disappears
    Re-address borderBoxSize HACK
    resource-timeline header borders a little messed up
  Safari
    shows ResizeObserver loop warning
  scroll not restored after print-view for any browser/view?
Markup refactor
  just like events conditionally are <a> tags, should make navlinks the same
  put fc-border on viewcontainer
DayGrid
  prevent DayGridCell headers from overflowing? makes really small calendars look better
  bug (print-view):
    for multi-day events, don't display title within non-start/end segs
  bug: weekNumbers on 1-row dayGrid views don't work
  simplify event positioning
    normalize each event-container's top by applying margin-top on ones that have smaller headers
    position each event-harness with a margin-top (in combo with existing abs positioning)
    after this^, we'll know the explicit min-height a row should be
      TODO: use this to explicitly set min-height on row div, this will override the not-smart
      "default" that the browser decides. then, force min-height:0 for all flex items (same with min-width),
      to be more like react-native, and more intuitive
MultiMonth
  Adjust multiMonthMinWidth since padding change
  Improve perf while switching years
  For print, force +morelink to isCompact=true
    Starting out NOT compact in forced 2-col formation, but when gets squished to where isCompact
    is needed, but ResizeObserver/etc doesn't adapt. examples-v7/multimonth-view.html
TimeGrid
  i flipped the natural DOM order of slats and resource-lanes.. has any bad effects?
  when setting slotDuration:{hours:1}, really short body. always like this? slats had bigger min-height?
  bug: when few slats and bottom spacer visible, axis line is only line that doesn't span full height
  no stickyFooterScrollbars? never implemented in v6?
  test stickyHeaderDates
  test print header repeats
Timeline
  initialscroll for RTL is off-by-2 in wrong direction
  previously, Timeline's hit system would always return slat left/right, not snap
    for real? matters? add to changelog?
Resource DayGrid
  on DayGridHeader (for TimeGrid too), dates-BELOW-resources don't have resource ID, did they ever?
    did their customer-render-func ever get passed a resource?
Resource Timeline
  bug: drag-n-drop auto-scroll very glitchy
  bug: when group-column resized really narrow, text isn't cropped like cells in resource rows
  bug: in timeline-column-grouping.html
    when changing the "Room" column to group:true, changes height, which it shouldn't!
    some sort of off-by-one error with the top or bottom borders
  when no groupcols, do simplified DOM structure?
  i flipped the natural DOM order of slats and resource-lanes.. has any bad effects?
    TODO: do same concepct for timeline-no-resources
  column grouping, should expand to full height, but doesn't
    See bundle/examples/responsive.html
  just like scrollbar dead area should have grey bg,
    make timeline bottom area w/o slots a grey bg
  get grouping via row and col simultaneously working. should be possible.
    see timeline-row-n-col-grouping-not-working.html
  change how column-resizing widths is distibuted?
    right now it's impossible to resize last column
    try to take width away from next column when expanding
  optimize rendering for lane top/bottom padding
  when there's a superheader, and 2 headers in timeline area, padding in headers looks too thick?
H-Scrolling Views
  ensure col-width-syncing doesn't have 1px-off problem
    queries inner-width, but when assigning to outer-width, does it add 1px?
General Responsive
  Hide event times (daygrid/timeline) if too small?
  should fc-padding-* classes be responsive, meaning related to font-size?
    for fc-daygrid-day-number/fc-daygrid-week-number too
  make ticket where popover is responsive?
Scrollbars
  bug: unnecessary vertical scrollbar in daygrid see issue-6749-related.html
  See [scrollbar bug] for Resource Timeline
Performance
  why does TimelineLane::render get called 3 times initially?
  [ ] https://github.com/fullcalendar/fullcalendar/issues/3003
    not rerendinering events that didn't change --- not fixed in v6 or v7-beta
  [?] https://github.com/fullcalendar/fullcalendar/issues/6199 (dateClick)
    V6 repro: https://codepen.io/arshaw/pen/OJKMLRR?editors=0010
    V7 has no real improvement
  "Maximum update depth exceeded" error after resizing many times in Chrome --- reemerged?
    https://github.com/fullcalendar/fullcalendar/issues/5606
  hit-system: only query DOM element for handlers like dayClick at very end
  this.detachInnerHeight() // should fire a 'null' height? yes! will cleanup any map listeners
  use css translateX/Y instead of top/left to prevent reflows
  user IntersectionObserver for DnD?
Angular
  Building example project gives warnings like
    Ignoring this import because ".." was marked as having no side effects
Locales
  audit all allDayText. there's no more max-width in the CSS. use allDayHtml with breaks if needed
Dist
  ensure outputted CSS doesn't have multiple :root declarations because of how we shifted vars.css around
Manual Testing
  Touch devices
Examples
  In each two-column layout, give the sidebar flex-shrink:0 and the main min-width:0
    Things are currently collapsing very strangely on a narrow screen (like stackblitz angular demo)
Last-minute features
  Can safely assume all RTL scrollbars are on left. Optimize what Scroller reports
  Try to strip out dom-geom.ts and scrollbar-width, tho used for auto-scrolling
  Change how liquid-height is done for a single-expanding region
    Normally:
      FIXED-AREAS: nothing
      LIQUID-AREAS: { flex-grow:1, min-height:0, flex-basis:0 }
      Needed for horizontal equal-width cell expansion; basis0 is important
    New technique:
      FIXED-AREAS: { flex-shrink:0 }
      LIQUID-AREAS: { flex-grow:1, min-height:0 }
      Good for layouts that are conditionally liquid-height
      Tho probably not as performant because need to compute the pre-squished AND post-squished layouts
Before release
  DayGrid popover appears 1px too low now that we moved row border to bottom
  revert "hacks to get print-mode working, but some should be reverted"
  revert temporary gitignores
  remove the Preact createContext hack because this is now implemented:
    https://github.com/preactjs/preact/issues/2510
  Calendar::updateSize should call resize-observer force-check
    Don't do async Promise idea anymore
    Call flushSync after
  Kill memoizeArraylike,memoizeHashlike,others
  For resource-timeline "lanes", resource-group-rows have fc-resource-group but resource-rows
    do no have fc-resource. Make consistent? add to changelog?
Changelog
  Add: Bootstrap4/5 line-height less chunky
  Add: Bootstrap
    Minimum Bootstrap5 version is 5.2.x
    Bootstrap5 now a peer dependency (and popver by assoc). not the case for 4. TODO: modify docs.
    Semantic color vars: https://github.com/fullcalendar/fullcalendar/issues/7465
    Looks good with Dark Mode
  Document better dark-mode abilities for anyone, with CSS vars that Bootstrap5 happens to manipulate
  Add: Calendar::updateSize no longer synchronous
  Add: all cell headers are no longer bold
  Add: standin events get put through eventContent/etc
  Add: eventSlicing (write tests too)
    eventSlicing:true (request: https://github.com/fullcalendar/fullcalendar/issues/6187)
    eventSlicing:false (request: https://fullcalendar.freshdesk.com/a/tickets/9203)
  v7 regressions
    border problem fixed: https://codepen.io/arshaw/pen/PoMOwdV?editors=0010
  I refactored a lot of event time-range text-generation. fixed any bugs? (esp with list-view?)
    https://github.com/fullcalendar/fullcalendar/issues/3038 (probably not)
  breaking change in list view from 12:00-12:00 -> allDay?
    NO, always worked this way: https://codepen.io/arshaw/pen/wBwJJER?editors=001
  Solved Regressions
    Event cut-off when printing multiple pages in timeGrid view #7673
      https://github.com/fullcalendar/fullcalendar/issues/7673
      fixed repro: timegrid-views-many.html (in FF)
Freshdesk/GH-issues
  Fixed this issue of mousedown taking long time to recalculate style?
    https://fullcalendar.freshdesk.com/a/tickets/9078
    Can see forced-reflow warning here too: bundle/examples-v7/issue-7677.html
  Make tickets for a new view with list-view underneath month calendar
  Check ticket for daygrid view with "dots"
  Need to split this issue
    https://github.com/fullcalendar/fullcalendar/issues/1037
    1. scrollreset (already implemented)
    2. scroll to current date or time
  when infinite scroll-loading done
    https://fullcalendar.freshdesk.com/a/tickets/9668
  when virtual rendering done
    https://fullcalendar.freshdesk.com/a/tickets/8496
    https://fullcalendar.freshdesk.com/a/tickets/9701
NOTES
  flexbox row expansion works across scroll regions: https://codepen.io/arshaw/pen/rNXdrLm?editors=1100
  100% width within scroller applies to clientWidth only: https://codepen.io/arshaw/pen/GgKWRNZ?editors=1100
  Print
    if you hit the debugging 'p' to force print-mode too soon after you stop scrolling,
      scrollEnd won't have enough time to fire and scroll state likely won't be saved,
      resulting in jump when entering print-mode. however, this isn't a realistic scenario because
      usually users have a long time between when they stop scrolling and when they initiate printing
    translateX/Y doesn't work when sticky items inside
    siblings must all be absolutely positioned if they are supposed to overlap
      and if you want them to span to subsequent pages in-sync
    Firefox:
      sometimes you just need to restart Firefox and things start working :(
      setting a bottom coordinate will NEVER wrap to subsequent pages
        problems with height:100% as well. hardcoded height needed
      weird issue: if abs positioned element starts on 2nd page and spans to third,
        makes a strange gap on 3rd page and pushes all content afterwards down
      if there's any sort of overflow:hidden/scroll container,
        screws up absolute positioning within, when spanning to subsequent pages. must disable
      JUST GIVE UP on multi-page absolutely positioned items in firefox
    bugzilla flexbox issues
      master ticket (pending): https://bugzilla.mozilla.org/show_bug.cgi?id=939897
      special-case fix (done): https://bugzilla.mozilla.org/show_bug.cgi?id=939897
        supposedly milestone 78.0a1
    bug with flexbox AND absolute positioning wrapping to subsequent pages (our discovery)
      ("Dinner" isn't showing up; starts on second page)
      (NEED TO LOOK AT ACTUAL PDF - differs from print preview sometimes)
        Firefox 120 - perfect
        Firefox 110 - good (event y off by 1px)
        Firefox 100 - good (event y off by 1px)
        Firefox 97 - good (event y off by 1px) --- February 8, 2022
        Firefox 96 - bad
        Firefox 95 - bad
        Firefox 90 - bad
    known-bugs:
      On Safari, table headers are not repeated for any view (browser bug)
Punt
  print: in resource-timeline print-view, put divider between all cells
  Drop-shadow under sticky header, timeline headers
  In timegrid, when date-selecting with mirror event, why are we rendering highlight?
  For timeline event-dnd, the mirror, should have white glow just like timegrid for when overlap other events
  lack of text-selectability: https://github.com/fullcalendar/fullcalendar/issues/5628
    TODO: need larger discussion on whether dates w/ dateClick or events w/ eventClick
      should allow text-selection or now
  file bug for strange dragging events from timeline more-link (preexists)
  (same with TIMEGRID's more popover)
    https://codepen.io/arshaw/pen/jOgeGwm?editors=0010
  timeline event dragging loses duration:
    1. have +more link with eventMaxStack
    2. open link, begin to drag event
    3. event looses it's duration. inconsistent with how normal event dragging happens
    (will be breaking change? maybe file ticket and add changelog)
    PREEXISTS: https://codepen.io/arshaw/pen/jOgeGwm?editors=0010
  Markup/CSS/structure
    kill fc-header-cell classname?
    in future css className refactor:
      fc-dayGridMonth -> fc-daygridmonth (to match fc-daygrid)
      fc-dayGridMonth-button -> fc-daygridmonth-button
      fc-timeline-now-indicator-arrow -> fc-timeline-nowindicator-arrow
      fc-timeline-more-link -> fc-timeline-morelink
      NEVERMIND. we've developed a strong precedent of dash-breaking-words,
        like week-number/day-number which needs to be both subcomponent (fc-daygrid-day>fc-daygrid-day-number)
        and independent component (fc-daygrid-week-number)

ensure automated tests for...
  how an event can render as a/div/div[role=button]
  weird list-view slicing logic we removed
    https://github.com/fullcalendar/fullcalendar/blob/9a0edaeb5eddf2cec8bd2409ecc26c4598b98a48/packages/list/src/ListView.tsx#L235-L249
  resource-timeline rowgrouping
    has correct borders on bottom of rows, even when all row groups collapsed
    when expandRows: true, groups do not expand, only resources!
  timeline/hscroll-timeGRID, when sticky-header
    ensure time-axis or resource area has bottom filler to match horizontal scrollbar
  resource-timeline group cells (that run vertically) have correct border, especially 2nd and 3rd down
  positioning of sticky headers in all views. list view sticky subheaders too
  resource-timeline indent works
  pixel # for height/contentHeight works
  correct header row heights for multi-header resource-TIMEgrid row with horizontal scrolling
  when nowIndicator is OFF, doesn't render in DOM at all
  percentage-based resource-timeline spreadsheet-column resizing
  that expandRows works enabled/disabled for timegrid/resource-timeline views
  test datagrid with h scroll, but timeline area WITHOUT h scroll
  multiple tiers of headers line-up across scrollers
    timegrid h-scroll. with and without weekNumber
    resource-timeline. w/ datagrid/timeline headers: 1/2, 2/1
  disabled days
    do NOT render navlinks (header or obviously day number)
    the headers WILL render data-date, fc-day-disabled (but not dayofweek, past, future classNames)

scratch
  "invalid" dates aka "disabled" dates
    DayGridMONTH: https://codepen.io/arshaw/pen/EaYXWPM?editors=0010
      normal weekday header
      empty cells
    DayGridWEEK: https://codepen.io/arshaw/pen/mybwWEE?editors=0010
      empty header --> change to rendered headers!
      empty cells
    TimeGrid: https://codepen.io/arshaw/pen/pvzweyV?editors=001
      empty header --> change to rendered headers!
      empty cells
    Timeline: https://codepen.io/arshaw/pen/WbeOpwX?editors=0010 (must scroll left after load)
      normal header
      empty cell
